import{l as b,Y as N,n as c,q as S,s as e,_ as C,z as T,j as _,A as D,Z as te,e as v,$ as z,L as ae,a0 as se,a as ne,r as p,t as I,x as E,P as g,C as Q,S as le,w as J,F as ee,T as oe,v as ie,K as _e,y as re,W as ue,X as de}from"./index.3894736b.js";const pe=["innerHTML"],me=b({__name:"SetupWizardCookies",setup(u){const t=N();return(l,a)=>(c(),S("div",{class:"setup-wizard-cookies-container",innerHTML:e(t).label("LBL_MINT4_SETUP_WIZARD_COOKIES_DESCRIPTION")},null,8,pe))}});const ce=C(me,[["__scopeId","data-v-870be637"]]),Le={class:"setup-wizard-user-profile-container"},fe=b({__name:"SetupWizardUserProfile",setup(u,{expose:t}){const l=M(),a=N(),i=T(!1);function d(){var m;return i.value=!1,(m=l.setupData.last_name)!=null&&m.trim()?!0:(i.value=!0,!1)}return t({validate:d}),(m,r)=>(c(),S("div",Le,[_(D,{modelValue:e(l).setupData.first_name,"onUpdate:modelValue":r[0]||(r[0]=o=>e(l).setupData.first_name=o),density:"comfortable",variant:"outlined",label:e(a).label("LBL_MINT4_SETUP_WIZARD_USER_PROFILE_FIRST_NAME"),"hide-details":""},null,8,["modelValue","label"]),_(D,{modelValue:e(l).setupData.last_name,"onUpdate:modelValue":r[1]||(r[1]=o=>e(l).setupData.last_name=o),density:"comfortable",variant:"outlined",label:e(a).label("LBL_MINT4_SETUP_WIZARD_USER_PROFILE_LAST_NAME"),"hide-details":"auto","error-messages":i.value?e(a).label("LBL_MINT4_ERROR_REQUIRED_FIELD"):""},null,8,["modelValue","label","error-messages"]),_(D,{modelValue:e(l).setupData.email,"onUpdate:modelValue":r[2]||(r[2]=o=>e(l).setupData.email=o),density:"comfortable",variant:"outlined",label:e(a).label("LBL_MINT4_SETUP_WIZARD_USER_PROFILE_EMAIL"),"hide-details":""},null,8,["modelValue","label"])]))}});const Se=C(fe,[["__scopeId","data-v-4ee3f928"]]),Te={class:"setup-wizard-locale-settings-container"},Ee=b({__name:"SetupWizardLocaleSettings",setup(u){const t=te(),l=N(),a=M(),i=v(()=>{var o,n,s;return Object.entries((s=(n=(o=t.initData)==null?void 0:o.global)==null?void 0:n.time_zones)!=null?s:{}).map(([L,f])=>({value:L,title:f}))}),d=v(()=>{var o,n,s;return Object.entries((s=(n=(o=t.initData)==null?void 0:o.global)==null?void 0:n.name_formats)!=null?s:{}).map(([L,f])=>({value:L,title:f}))}),m=v(()=>{var o,n,s;return Object.entries((s=(n=(o=t.initData)==null?void 0:o.global)==null?void 0:n.time_formats)!=null?s:{}).map(([L,f])=>({value:L,title:f}))}),r=v(()=>{var o,n,s;return Object.entries((s=(n=(o=t.initData)==null?void 0:o.global)==null?void 0:n.date_formats)!=null?s:{}).map(([L,f])=>({value:L,title:f}))});return(o,n)=>(c(),S("div",Te,[_(z,{modelValue:e(a).setupData.time_zone,"onUpdate:modelValue":n[0]||(n[0]=s=>e(a).setupData.time_zone=s),items:i.value,density:"comfortable",variant:"outlined",label:e(l).label("LBL_MINT4_SETUP_WIZARD_LOCALE_SETTINGS_TIME_ZONE"),"hide-details":""},null,8,["modelValue","items","label"]),_(z,{modelValue:e(a).setupData.time_format,"onUpdate:modelValue":n[1]||(n[1]=s=>e(a).setupData.time_format=s),items:m.value,density:"comfortable",variant:"outlined",label:e(l).label("LBL_MINT4_SETUP_WIZARD_LOCALE_SETTINGS_TIME_FORMAT"),"hide-details":""},null,8,["modelValue","items","label"]),_(z,{modelValue:e(a).setupData.date_format,"onUpdate:modelValue":n[2]||(n[2]=s=>e(a).setupData.date_format=s),items:r.value,density:"comfortable",variant:"outlined",label:e(l).label("LBL_MINT4_SETUP_WIZARD_LOCALE_SETTINGS_DATE_FORMAT"),"hide-details":""},null,8,["modelValue","items","label"]),_(z,{modelValue:e(a).setupData.display_name_format,"onUpdate:modelValue":n[3]||(n[3]=s=>e(a).setupData.display_name_format=s),items:d.value,density:"comfortable",variant:"outlined",label:e(l).label("LBL_MINT4_SETUP_WIZARD_LOCALE_SETTINGS_NAME_FORMAT"),"hide-details":""},null,8,["modelValue","items","label"])]))}});const Ie=C(Ee,[["__scopeId","data-v-cf743d3b"]]),M=ae("setup-wizard",()=>{var R,A,P,W,y,U,B,O,w,x,V,k,h,F,Z,$,G,j,H,K,X,Y,q;const u=se(),t=te(),l=T(!1),a=T(!1),i=T({first_name:(A=(R=u.user)==null?void 0:R.first_name)!=null?A:"",last_name:(W=(P=u.user)==null?void 0:P.last_name)!=null?W:"",email:(U=(y=u.user)==null?void 0:y.email)!=null?U:"",time_zone:(O=(B=u.user)==null?void 0:B.preferences.timezone)!=null?O:"Europe/Warsaw",time_format:(h=(k=(w=u.user)==null?void 0:w.preferences.date_time_preferences.time)!=null?k:(V=(x=t.initData)==null?void 0:x.global)==null?void 0:V.time_format)!=null?h:"H:i",date_format:(j=(G=(F=u.user)==null?void 0:F.preferences.date_time_preferences.date)!=null?G:($=(Z=t.initData)==null?void 0:Z.global)==null?void 0:$.date_format)!=null?j:"d.m.Y",display_name_format:(q=(Y=(H=u.user)==null?void 0:H.preferences.name_format)!=null?Y:(X=(K=t.initData)==null?void 0:K.global)==null?void 0:X.name_format)!=null?q:"s f l"}),d=[{title:"LBL_MINT4_SETUP_WIZARD_COOKIES_TITLE",component:ce,backLabel:"LBL_MINT4_DECLINE",nextLabel:"LBL_MINT4_ACCEPT"},{title:"LBL_MINT4_SETUP_WIZARD_USER_PROFILE_TITLE",component:Se},{title:"LBL_MINT4_SETUP_WIZARD_LOCALE_SETTINGS_TITLE",component:Ie}],m=T(null),r=T(0),o=v(()=>d[r.value]);function n(){r.value===0?L():r.value--}function s(){r.value===d.length-1?f():r.value++}async function L(){a.value=!0,await u.logout()}async function f(){a.value=!0;try{(await ne.post("api/confirm_login_wizard",i.value)).status===200&&(u.user&&(u.user.show_login_wizard=!1),l.value=!0)}finally{a.value=!1}}return{userInfo:m,isLoading:a,isFinished:l,steps:d,setupData:i,currentStep:o,currentStepNumber:r,prevStep:n,nextStep:s}}),ve={class:"setup-wizard-complete-container"},be={class:"setup-wizard-complete-title"},Ne={class:"setup-wizard-complete-subtitle"},ze=b({__name:"SetupWizardComplete",setup(u){const t=N();function l(a){window.open(a,"_blank")}return(a,i)=>(c(),S("div",ve,[p("div",be,I(e(t).label("LBL_MINT4_SETUP_WIZARD_COMPLETE_SCREEN_TITLE")),1),p("div",Ne,I(e(t).label("LBL_MINT4_SETUP_WIZARD_COMPLETE_SCREEN_SUBTITLE")),1),p("div",{class:"setup-wizard-complete-link",onClick:i[0]||(i[0]=d=>l("https://minthcm.org"))},[_(E,{icon:"mdi-earth",size:"20"}),p("span",null,I(e(t).label("LBL_MINT4_SETUP_WIZARD_COMPLETE_SCREEN_MINTHCMORG")),1),_(E,{icon:"mdi-open-in-new",class:"ms-auto",size:"20"})]),p("div",{class:"setup-wizard-complete-link",onClick:i[1]||(i[1]=d=>l("https://minthcm.org/documentation"))},[_(E,{icon:"mdi-file-document-multiple",size:"20"}),p("span",null,I(e(t).label("LBL_MINT4_SETUP_WIZARD_COMPLETE_SCREEN_DOCUMENTATION")),1),_(E,{icon:"mdi-open-in-new",class:"ms-auto",size:"20"})]),p("div",{class:"setup-wizard-complete-link",onClick:i[2]||(i[2]=d=>l("https://minthcm.org/support"))},[_(E,{icon:"mdi-forum",size:"20"}),p("span",null,I(e(t).label("LBL_MINT4_SETUP_WIZARD_COMPLETE_SCREEN_SUPPORT")),1),_(E,{icon:"mdi-open-in-new",class:"ms-auto",size:"20"})]),_(g,{text:e(t).label("LBL_MINT4_SETUP_WIZARD_COMPLETE_SCREEN_BTN"),variant:"primary",class:"mt-6",onClick:i[3]||(i[3]=d=>a.$router.push({name:"dashboard"}))},null,8,["text"])]))}});const Ce=C(ze,[["__scopeId","data-v-8e16d988"]]),De={class:"setup-wizard"},ge={class:"setup-wizard-container"},Me={key:0,class:"setup-wizard-loader"},Re={class:"setup-wizard-title"},Ae={class:"setup-wizard-buttons"},Pe={class:"setup-wizard-footer"},Ue=b({__name:"SetupWizard",setup(u){const t=M(),l=N(),a=T();function i(){var m;(!((m=a.value)!=null&&m.validate)||a.value.validate())&&t.nextStep()}const d=v(()=>t.currentStep.nextLabel?t.currentStep.nextLabel:t.currentStepNumber===t.steps.length-1?"LBL_MINT4_FINISH":"LBL_MINT4_NEXT");return(m,r)=>{var o,n;return c(),S("div",De,[p("div",ge,[_(le,null,{default:Q(()=>[e(t).isLoading?(c(),S("div",Me,[_(_e,{indeterminate:"",color:"primary",size:"64"})])):re("",!0)]),_:1}),e(t).isFinished?(c(),J(Ce,{key:0})):(c(),S(ee,{key:1},[p("div",Re,I(e(l).label(e(t).currentStep.title)),1),_(oe,{"hide-on-leave":""},{default:Q(()=>{var s;return[(c(),J(ue((s=e(t).currentStep)==null?void 0:s.component),{ref_key:"setupWizardStepComponent",ref:a},null,512))]}),_:1}),p("div",Ae,[_(g,{variant:"text",text:e(l).label((n=(o=e(t).currentStep)==null?void 0:o.backLabel)!=null?n:"LBL_MINT4_BACK"),onClick:e(t).prevStep},null,8,["text","onClick"]),_(g,{variant:"primary",text:e(l).label(d.value),onClick:i},null,8,["text"])]),p("div",Pe,[(c(!0),S(ee,null,ie(e(t).steps.length,s=>(c(),S("div",{key:s,class:de({"setup-wizard-footer-dot":!0,"setup-wizard-footer-dot-active":e(t).currentStepNumber===s-1})},null,2))),128))])],64))])])}}});export{Ue as default};
